@model IEnumerable<Silicus.EncourageWithAzureAd.Web.Models.NominationListViewModel>
@using Silicus.EncourageWithAzureAd.Web.Enums;
@using System.Drawing;
@{
    ViewBag.Title = "ReviewNominations";
}

<style>
    hr {
        background-color: black;
        height: 1px;
        border: 0;
        padding-left: 0px;
    }
    .fa-circle {
        color:grey;
    }

        
    .page-heading {
        margin-left:0%;
    }

    .navbar-minimalize{
    margin-left:35%;
    }
</style>


<div class="row border-bottom">
    <nav class="navbar  " role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
        </div>
    </nav>
</div>
<div class="row wrapper border-bottom white-bg page-heading border-bottom" style="width:90%;">
    <div class="col-sm-12">
        <h1>Review Nominations</h1>
    </div>
</div>
<div class="wrapper wrapper-content animated fadeInRight">
    <span style="color:red"> @ViewBag.erroMessage</span>
    <div class="row">

        @if (Model.Count() == 0)
        {
            <span class="text-danger" style="font-size:20px;margin-left:7%">No employees are available for review..</span>
        }
        @*else
        if( @ViewBag.ReviewLockStatus)
        {
        <span class="text-danger" style="font-size:20px;margin-left:7%">The review period was closed..</span>
        }*@
        else
        {
            foreach (var item in Model)
            {
                var myBorderColor = string.Empty;
                var title = "Review Nomination";
                var actionname = "ReviewNomination";
                if (item.IsDrafted == true)
                {
                    myBorderColor = "#F8AC59";
                    actionname = "EditReview";
                    title = "Edit review";

                }

                Random randomGen = new Random();
                KnownColor[] names = (KnownColor[])Enum.GetValues(typeof(KnownColor));
                KnownColor randomColorName = names[randomGen.Next(names.Length)];
                Color randomColor = Color.FromKnownColor(randomColorName);

            <div class="col-md-3 card white-bg" style="margin-left:2%;border-color:@myBorderColor" >

                <div class="cardHeader text-center">

                    <div>
                        <label class="cardHeaderEmpName">  @Html.DisplayFor(modelItem => item.DisplayName)</label>
                    </div>

                    <div>
                        @Html.DisplayFor(modelItem => item.AwardName)
                        @if (item.AwardFrequencyCode == FrequencyCode.YEAR.ToString())
                        {
                            var nominationYear = Convert.ToInt32(item.NominationTime.Substring(item.NominationTime.LastIndexOf('-') + 1)) - 1;
                            @Html.Label("-" + Convert.ToInt32(nominationYear))
                        }
                        else
                        {
                            @Html.DisplayFor(modelItem => item.NominationTime)
                        }
                    </div>

                </div>
                <div class="cardFooter text-right" style="border-color:@myBorderColor">

                    <a href="@Url.Action(actionname, "Nomination", new { nominationId = item.Id })">
                        <span> <i class="fa fa-search" style="font-size:30px;" title="@title" aria-hidden="true"></i> </span>
                    </a>

                </div>
            </div>

        }
        }
        <br />
   
</div>
</div>
<script src="~/js/jquery-2.1.1.js"></script>
<script>
    $(function () {

        $(".fa-circle").tooltip();
    })

</script>