@model IEnumerable<Silicus.FrameworxProject.Models.FrameworxCategory>

@{
    ViewBag.Title = "Index";
}


<style>
    .searchpadding {
        padding-top: 15px;
    }

    #searchString {
        margin-left: 10px;
    }
    #CodeMethod{
        float:right;
        margin-top: 30px;
        margin-right: 16px;
    }
    .componentHeading{
            padding-left: 16px;
    }
    #ComponentContainer{
        padding-bottom:8%;
    }
</style>
<div class="container" id="ComponentContainer">
    @*<div class="row">
        <div class="col-sm-12 col-lg-12 col-md-12 col-xs-12">
            <div id="CodeMethod">
                <input class="btn btn-primary" type="button" value="Submit Code" onclick="location.href='@Url.Action("Index", "Extension")'" />
                <input class="btn btn-primary" type="button" value="Find Code" onclick="location.href='@Url.Action("ShowExtensionCode", "Extension")'" />
            </div>
        </div>
    </div>*@
    <div class="row">
        <div class="col-sm-8 col-lg-8 col-md-8 col-xs-8">
            <h2 class="componentHeading">Component Category</h2>
        </div>

        <div class="col-sm-4 col-lg-4 col-md-4 col-xs-4">

            @using (Ajax.BeginForm("SearchComponent", "", "", new AjaxOptions()
            {
                HttpMethod = "GET",
                UpdateTargetId = "containerDiv",
                InsertionMode = InsertionMode.Replace
            }, null))
            {
                <div class="navbar-form">
                    <div class="input-group add-on searchpadding">

                        <input class="form-control" placeholder="Search" name="searchString" id="searchString" type="text" onkeyup="searchComponent()">
                        <div class="input-group-btn">
                            <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
    <div class="row" id="containerDiv">
        @foreach (var item in Model)
        {
            <div class="col-sm-12 col-lg-12 col-md-12 col-xs-12">
                <div>
                    <h3 class="componentHeading">@Html.DisplayFor(modelItem => item.Name)</h3>
                    @{Html.RenderAction("GetAllList", "FrameworxProject", new { id = item.Id });}
                </div>
            </div>
         }
    </div>
</div>

<script>
    function getdetail(id, categoryId) {

        $("#currentTile").val(id);
        var url = "/FrameworxProject/Details";
        $.get(url, { id: id }, function (data) {
            $(".carousel-inner").html(data);
            $("#devendra").html(categoryname);

        });

    }

    function getsearchContain(searchString) {

        var url = "/FrameworxProject/Details";
        $.get(url, { searchString: searchString }, function (data) {

        });

    }
    
    function searchComponent() {

        var searchString = $("#searchString").val();

        var url = "/FrameworxProject/SearchComponent";
        $.get(url, { searchString: searchString }, function (data) {
            $("#containerDiv").html(data);
        });
    }

    function nextSlide() {

        var selects = $(".TitleDivTemplate");
        selects.each(function myfunction(index) {
            var id = $(this).attr("my-data");
            var currentId = $("#currentTile").val();
            if (id == currentId) {
                if (index !== selects.length - 1) {
                    // select the next span
                    getdetail(selects.eq(index + 1).attr('my-data'), selects.eq(index + 1).attr('my-title'));
                    return false;
                } else {
                    getdetail(selects.eq(0).attr('my-data'), selects.eq(index + 1).attr('my-title'));
                }
            }
        });
    }

    function prevSlide() {
        var selects = $(".TitleDivTemplate");
        selects.each(function myfunction(index) {

            var id = $(this).attr("my-data");
            var currentId = $("#currentTile").val();
            if (id == currentId) {
                if (index !== selects.length - 1) {
                    // select the next span
                    getdetail(selects.eq(index - 1).attr('my-data'), selects.eq(index - 1).attr('my-title'));
                    return false;
                } else {
                    getdetail(selects.eq(index - 1).attr('my-data'), selects.eq(index - 1).attr('my-title'));
                }
            }
        });
    }

</script>
@section scripts{
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
}
