@model IEnumerable<Silicus.FrameworxProject.Models.Category>

@{
    ViewBag.Title = "Index";
}


<style>
    .searchpadding{
        padding-top:15px;
    }
    #searchString{
        margin-left: 10px;
    }
</style>
<div class="container">
    <div class="row">
        <div class="col-sm-8 col-lg-8 col-md-8 col-xs-8">
            <h2>Silicus Category</h2>
        </div>
        <div class="col-sm-4 col-lg-4 col-md-4 col-xs-4">
            @using (Ajax.BeginForm("SearchComponent","", "", new AjaxOptions() {
                            HttpMethod = "GET",
                            UpdateTargetId = "containerDiv",
                            InsertionMode = InsertionMode.Replace
                        }, null)) {
                <div class="navbar-form">
                    <div class="input-group add-on searchpadding">
                        <input class="form-control" placeholder="Search" name="searchString" id="searchString" type="text">
                        <div class="input-group-btn">
                            <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
    <div class="row" id="containerDiv">
        @foreach (var item in Model)
                {
            <div class="col-sm-12 col-lg-12 col-md-12 col-xs-12">
                <div>
                    <h3>@Html.DisplayFor(modelItem => item.Name)</h3>
                    @{Html.RenderAction("GetAllList", "FrameworxProject", new { id = item.Id });}
                </div>
            </div>
        }
    </div>
</div>

<script>
    function getdetail(id,categoryId) {

        $("#currentTile").val(id);
                var url = "/FrameworxProject/Details";
        $.get(url, { id: id }, function (data) {
            $(".carousel-inner").html(data);
            $("#devendra").html(categoryname);

        });      

    }

    function getsearchContain(searchString) {

        var url = "/FrameworxProject/Details";
        $.get(url, { searchString : searchString }, function (data) {

        });

    }

    function nextSlide() {

        var selects = $(".TitleDivTemplate");
        selects.each(function myfunction(index) {
            var id = $(this).attr("my-data");
            var currentId = $("#currentTile").val();
            if (id == currentId) {
                if (index !== selects.length - 1) {
                    // select the next span
                    getdetail(selects.eq(index + 1).attr('my-data'), selects.eq(index + 1).attr('my-title'));
                    return false;
                } else {
                    getdetail(selects.eq(0).attr('my-data'),selects.eq(index + 1).attr('my-title'));
                }
            }
        });
    }

    function prevSlide() {
        var selects = $(".TitleDivTemplate");
        selects.each(function myfunction(index) {

            var id = $(this).attr("my-data");
            var currentId = $("#currentTile").val();
            if (id == currentId) {
                if (index !== selects.length - 1) {
                    // select the next span
                    getdetail(selects.eq(index - 1).attr('my-data'), selects.eq(index - 1).attr('my-title'));
                    return false;
                } else {
                    getdetail(selects.eq(index-1).attr('my-data'), selects.eq(index - 1).attr('my-title'));
                }
            }
        });
    }

</script>
@section scripts{
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
    }
