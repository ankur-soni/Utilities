<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>@ViewBag.Title - SilicusDemo</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link href="~/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="apple-touch-icon" href="" />
    <link rel="apple-touch-icon" sizes="57x57" href="" />
    <link rel="apple-touch-icon" sizes="72x72" href="" />
    <link rel="apple-touch-icon" sizes="114x114" href="" />
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="application-name" content="" />
    <meta name="msapplication-tooltip" content="Silicus Technologies, LLC." />
    <meta name="msapplication-starturl" content="" />
    <meta name="rating" content="General" />
    <meta name="robots" content="index, follow" />
    <meta name="GOOGLEBOT" content="INDEX, FOLLOW" />
    <meta name="revisit-after" content="2 days" />
    <meta name="author" content="Silicus Technologies, LLC." />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta http-equiv="imagetoolbar" content="no" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="-1" />
    <meta http-equiv="pragma" content="no-cache" />

    @Styles.Render("~/Content/BootstrapCSS")
    @Styles.Render("~/Content/kendoCSS")
    @*@Styles.Render("~/Content/knockoutCSS")
        @Styles.Render("~/Content/JQueryUI")*@

    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/kendoJS")
    @Scripts.Render("~/bundles/BootstrapJS")


    <link href="~/Content/css/font-awesome-4.2.0/css/font-awesome.min.css" rel="stylesheet" />
    <link href="~/Content/toastr.css" rel="stylesheet" />
    <link href="~/Content/css/style.css" rel="stylesheet" />
    @Scripts.Render("~/bundles/jqueryval")
</head>

@{
    var conname = @ViewContext.RouteData.Values["controller"].ToString().ToLower();
    var actname = @ViewContext.RouteData.Values["action"].ToString().ToLower();
}

<body>
    <div id="loading">
        <div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <div id="wrapper">
        @if (actname != "login" && actname != "logoff" && actname != "forgotpassword")
        {
            <div id="top">
                <div class="container">
                    <div class="nav-button">
                        <i class="fa fa-bars"></i>
                    </div>
                    <div class="main-logo"></div>
                    <div class="profile">
                        <ul>
                            <li class="user">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#" onclick="return false;">
                                    <img src="../../Content/Images/profile.png" class="profile-img">
                                    <div class="user-info">
                                        @User.Identity.Name<br>
                                        <span class="user-email">@User.Identity.Name</span>
                                    </div>
                                    <div class="arrow"><i class="fa fa-angle-down"></i></div>
                                </a>
                                <ul class="dropdown-menu pull-right">
                                    @*<li><a href="#"><i class="fa fa-user"></i> Edit Profile</a></li>
                                        <li><a href="#"><i class="fa fa-calendar"></i> My Calendar</a></li>*@
                                    <li><a href="@Url.Action("LogOff", "Account")"><i class="fa fa-sign-out"></i> Log Out</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div> <!-- /container -->
            </div> <!-- /top -->
        }
        <div id="main">
            @if (actname != "login" && actname != "logoff" && actname != "forgotpassword")
            {
                @:<div class="container" id="main-container">
                <!-- Navigation Menu -->
                    <div class="nav">
                        <!-- added the class "show" to start with open menu -->
                        <ul>
                            @if (User.IsInRole(Silicus.Ensure.Models.Constants.RoleName.Panel.ToString()) || User.IsInRole(Silicus.Ensure.Models.Constants.RoleName.Admin.ToString()))
                            {
                                if (User.IsInRole(Silicus.Ensure.Models.Constants.RoleName.Admin.ToString()))
                                {
                                    <li><a href="/ManageUser/Index"><i class="fa fa-list"></i>User Managemen</a></li>
                                    <li><a href="/Master/Index"><i class="fa fa-list"></i>Setup</a></li>
                                }
                                <li><a href="/Admin/Candidates"><i class="fa fa-list"></i> Candidates</a></li>
                                <li><a href="/QuestionBank/QuestionBank"><i class="fa fa-list"></i> Question Bank</a></li>
                                <li><a href="/TestSuite/List"><i class="fa fa-list"></i> Test Suite</a></li>
                            }
                        </ul>
                        <div class="nav-logo">
                            Ensure
                            <span>Silicus Technologies, LLC.</span>
                            @if (@DateTime.Now.Year != 2014)
                            {
                                <span>&copy; 2014 - @DateTime.Now.Year</span>}
                            else
                            {<span>&copy; 2014</span>}
                        </div>
                    </div>
                <!-- Navigation Menu -->
            }

            @RenderBody()

            @if (actname != "login" && actname != "logoff" && actname != "forgotpassword")
            {
                @:</div>
            }
        </div>
    </div>
    @RenderSection("scripts", required: false)


    <script id="confirmationTemplate" type="text/x-kendo-template">
        <div class="popupMessage"></div>
        </br>
        <hr />
        <div class="dialog_buttons">
            <input type="button" class="confirm_yes k-button" value="Yes" style="width: 70px" />
            &nbsp;
            <input type="button" class="confirm_no k-button" value="No" style="width: 70px" />
        </div>
    </script>
    <script>
        function showConfirmationWindow(message, header) {
            return showWindow('#confirmationTemplate', message, header)
        };

        function showWindow(template, message, header) {

            var dfd = new jQuery.Deferred();
            var result = false;

            $("<div id='popupWindow'></div>")
            .appendTo("body")
            .kendoWindow({
                width: "400px",
                modal: true,
                title: "",
                modal: true,
                visible: false,
                close: function (e) {
                    this.destroy();
                    dfd.resolve(result);
                }
            }).data('kendoWindow').content($(template).html()).center().open();
            $('.k-window-titlebar').html(header);
            $('.popupMessage').html(message);
            $('.dialog_buttons').css('float', 'right');
            $('#popupWindow .confirm_yes').val('Yes');
            $('#popupWindow .confirm_no').val('No');

            $('#popupWindow .confirm_no').click(function () {
                $('#popupWindow').data('kendoWindow').close();
            });

            $('#popupWindow .confirm_yes').click(function () {
                result = true;
                $('#popupWindow').data('kendoWindow').close();
            });

            return dfd.promise();
        };
    </script>
</body>
</html>
@Scripts.Render("~/bundles/CommonJS")