@*@model IEnumerable<Silicus.FrameworxProject.Models.OtherCode>*@
@using PagedList.Mvc;
@model PagedList.IPagedList<Silicus.FrameworxProject.Models.OtherCode>
<style>
    #searchdiv {
        margin-top: 25px;
    }

    #searchString {
        margin-left: 176px;
    }

    .row {
        margin-right: 0px;
        margin-left: 0px;
    }

    #content {
        width: 1107px;
        padding: 15px;
        background-color: #fff;
        display: inline-block;
        clear: both;
        height: auto;
    }
</style>
@{
    ViewBag.Title = "ShowExtensionCode";
}
<div class="container listdiv">
    <div id="searchHeader" class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div id="innerserchdiv">
                <div class="col-lg-6 col-md-6 col-sm-6">
                    <h2>Search Other Code Methods</h2>
                </div>
                <div class="col-lg-6 col-md-6 col-sm-6">
                    @using (Ajax.BeginForm("SearchOtherCodeMethodByTitle", "Extension", "", new AjaxOptions()
                    {
                        HttpMethod = "GET",
                        UpdateTargetId = "questions",
                        InsertionMode = InsertionMode.Replace
                    }, null))
                    {
                        <div class="navbar-form" id="searchdiv">
                            <div class="input-group add-on searchpadding">

                                <input class="form-control" placeholder="Search" name="searchString" id="searchString" type="text" onkeyup="getdetail()">
                                <div class="input-group-btn">
                                    <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                                </div>
                            </div>
                        </div>
                    }
                    @*<form action="" class="search-form">
                            <div class="form-group has-feedback">
                                <label for="search" class="sr-only">Search</label>
                                <input type="text" class="form-control" name="search" id="search" placeholder="search">
                                <span  type="submit" class="glyphicon glyphicon-search form-control-feedback"></span>
                            </div>
                        </form>*@
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div id="content" class="snippet-hidden">
            <div id="mainbar">
                <div id="navigation">
                    @Html.ActionLink("Extension Methods", "ShowExtensionCode", "", new { @class = "btn btn-info" })
                </div>
                <div class="subheader">
                    <h1 id="h-all-questions">All Other Code Methods</h1>

                    <div id="tabs">
                        <a id="newest" onclick="getNewestExtension()" class="youarehere" href="#" data-nav-xhref="" title="The most recently asked questions" data-value="newest" data-shortcut="N">
                            Newest
                        </a>
                        <a id="frequent" onclick="getfrequentSearched()" href="#" data-nav-xhref="" title="Questions with the most links" data-value="frequent" data-shortcut="F">
                            Frequent Searched
                        </a>
                    </div>

                </div>

                <div id="questions">

                    @Html.Partial("_OtherCodeList")
                    @Html.PagedListPager(Model, page => Url.Action("ShowExtensionCode", new { page }))
                </div>
                
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Some text in the modal.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>

<script>
    function getdetail() {

        var searchString = $("#searchString").val();

        var url = "/Extension/SearchOtherCodeMethodByTitle";
        $.get(url, { searchString: searchString }, function (data) {

            $("#questions").html(data);
        });
    }
    
    function getfrequentSearched() {
        $("#newest").removeClass('youarehere');
        $("#frequent").addClass('youarehere');

        var url = "/Extension/FrequentSearchedExtension";
        $.get(url, null, function (data) {

            $("#questions").html(data);
        });
    }

    function getNewestExtension() {
        $("#newest").addClass('youarehere');
        $("#frequent").removeClass('youarehere');

        var url = "/Extension/newestExtension";
        $.get(url, null, function (data) {

            $("#questions").html(data);
        });
    }
</script>
